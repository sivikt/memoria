file(GLOB SRCS *.cpp)


add_library(MemoriaTools STATIC tools.cpp)
SET_TARGET_PROPERTIES(MemoriaTools PROPERTIES COMPILE_FLAGS "${MEMORIA_COMPILE_FLAGS} -DMEMORIA_STATIC")
set_target_properties(MemoriaTools PROPERTIES COMPILE_FLAGS "-DMEMORIA_STATIC")
set_target_properties(MemoriaTools PROPERTIES LINK_FLAGS "${MEMORIA_LINK_FLAGS}")


add_executable(dump ${SRCS} ${INCS})
SET_TARGET_PROPERTIES(dump PROPERTIES COMPILE_FLAGS "${MEMORIA_COMPILE_FLAGS} -DMEMORIA_STATIC")
SET_TARGET_PROPERTIES(dump PROPERTIES LINK_FLAGS "${MEMORIA_LINK_FLAGS}")
set_target_properties(dump PROPERTIES RUNTIME_OUTPUT_DIRECTORY "${EXECUTABLE_OUTPUT_PATH}/tools")

if (NOT CHECK_SYNTAX_ONLY)
    target_link_libraries(dump Memoria MemoriaTools ${MEMORIA_LIBS})
endif()